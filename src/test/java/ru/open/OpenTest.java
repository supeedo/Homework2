/*
Задача:
5.	запустить Chrome
6.	открыть https://www.google.com/
7.	написать в строке поиска «Открытие»
8.	нажать Поиск
9.	проверить, что результатах поиска есть https://www.open.ru
10.	перейти на сайт https://www.open.ru
11.	проверить в блоке «Курс обмена в интернет-банке», что курс продажи больше курса покупки, для USD и для EUR.
 */
package ru.open;

import Setting.WebDriverSetting;
import org.junit.Assert;
import org.junit.Test;
import org.openqa.selenium.WebElement;


public class OpenTest extends WebDriverSetting {

    @Test //  задание 1.2
    public void testOtkritie() {
        System.out.println("testOtkritie");
        chromeDriver.get("https://www.google.com/");
        PageObject googlePageObject = new PageObject(chromeDriver);
        googlePageObject.search("Открытие");
        googlePageObject.refreshList();
        for (WebElement wb : googlePageObject.getListOfWebelement()) {
            if (wb.getText().contains("open.ru")) {
                wb.click();
                break;
            }
        }
        googlePageObject.setExchangeRatesFields();
        Boolean check = false;
        if (googlePageObject.getDollarPurchanse() < googlePageObject.getDollarSale()
                && googlePageObject.getEuroPurchanse() < googlePageObject.getEuroSale()) {
            check = true;
            System.out.printf("Покупка Доллара %.2f, меньше его продажи %.2f\n"
                    , googlePageObject.getDollarPurchanse()
                    , googlePageObject.getDollarSale());
            System.out.printf("Покупка Евро %.2f, меньше его продажи %.2f\n"
                    , googlePageObject.getDollarPurchanse()
                    , googlePageObject.getDollarSale());
        }
        Assert.assertTrue(check);
    }
}
